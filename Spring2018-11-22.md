## 学习记录2018-11-22



### Spring

---

#### 静态代理模式

代理模式分为静态和动态。

静态代理是我们自己定义代理类，而动态代理是程序运行时生成的代理类。



#### 动态代理

动态也就不存在自定义的类。

使用动态代理我们需要声明一个类SecurityHandler，这个类要实现InvocationHandler接口。

在类中定义一个产生动态代理的方法newProxy();

同时把我们验证的代码放到这个类中。

通过SecurityHandler，当我们调用方法时默认会调用SecurityHandler类invoke方法，我们在这个方法中进行安全性检查，检查通过后在调用真实的方法。需要注意的是目标对象接口中的部分方法是存在返回值的。

当然如果没有继承接口怎么办？需要使用CGLIB实现AOP！

---

#### 使用Spring注解的方式实现AOP

实际开发中一般用于权限设置。

---

#### Spring 进行声明式事务配置

* 基于注解的方式

* 基于XML文件配置

  


